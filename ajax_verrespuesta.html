<body>

<div id="demo">
<h1>The XMLHttpRequest Object</h1>
<input type="text" id="ciudad">
<button type="button" onclick="loadDoc()">Change Content</button>
</div>
<div id="texto"></div>
<script>
function loadDoc() {
  var xhttp = new XMLHttpRequest();
  
  xhttp.onreadystatechange = function() {
    if (this.readyState==4 && this.status==200)
	{
	tratarJSON(this.responseText);
	}
  };
  var ciudad=document.getElementById("ciudad").value;
  xhttp.open("GET", "http://api.openweathermap.org/data/2.5/weather?q="+ciudad+"&appid=57703a7a9ab7b873a99116a3ea379748", true);
  xhttp.send();
  
}
function tratarJSON(texto_json)
{
var obj_json=JSON.parse(texto_json);
var t_min=obj_json.main.temp_min;
var t_max=obj_json.main.temp_max;
document.getElementById("texto").innerHTML="<p>T min:"+t_min+" T max:"+t_max+"</p>";
}
</script>

</body>
</html>